{"componentChunkName":"component---src-templates-blog-post-js","path":"/2013-04-29-minitest-with-multiple-test-files/","result":{"data":{"site":{"siteMetadata":{"title":"Maikeru's Blog"}},"markdownRemark":{"id":"4cb47486-7677-5c7b-a47a-da06da3d95ea","excerpt":"I started using Minitest for the Game of Life code kata.\nI like how simple minitest is - you can do anything with assert and with a cheatsheet its easy to write…","html":"<p>I started using <a href=\"https://github.com/seattlerb/minitest\">Minitest</a> for the <a href=\"https://github.com/maikeru/Kata-s-and-Puzzles-in-Ruby/tree/master/game-of-life\">Game of Life</a> code kata.\nI like how simple minitest is - you can do anything with assert and with a <a href=\"http://mattsears.com/articles/2011/12/10/minitest-quick-reference\">cheatsheet</a> its easy to write tests however you like. I now have a grand total of two test files and would like to run them both. So far I’ve been running tests like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">ruby tests/name_of_my_test.rb</code></pre></div>\n<p>But this only works with single files. The obvious next step:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">ruby tests/*.rb</code></pre></div>\n<p>doesn’t work as ruby will only take one file as an argument.\nThe top search result lead me to <a href=\"http://rake.rubyforge.org/classes/Rake/TestTask.html\">Rake::TestTask</a>.\nThis was the first time for me to write a rakefile and I’m not very experienced with Ruby so there were a few hiccups along the way. My final working rakefile looks like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\"><span class=\"token keyword\">require</span> <span class=\"token string\">'rake/testtask'</span>\n\ntask default<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token symbol\">:test</span><span class=\"token punctuation\">]</span>\n\n<span class=\"token constant\">Rake</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token constant\">TestTask</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">new</span> <span class=\"token keyword\">do</span> <span class=\"token operator\">|</span>t<span class=\"token operator\">|</span>\n  t<span class=\"token punctuation\">.</span>libs <span class=\"token operator\">&lt;</span><span class=\"token operator\">&lt;</span> <span class=\"token string\">\"tests\"</span>\n  t<span class=\"token punctuation\">.</span>test_files <span class=\"token operator\">=</span> <span class=\"token constant\">FileList</span><span class=\"token punctuation\">[</span><span class=\"token string\">'tests/*tests.rb'</span><span class=\"token punctuation\">]</span>\n  t<span class=\"token punctuation\">.</span>verbose <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span>\n<span class=\"token keyword\">end</span></code></pre></div>","frontmatter":{"title":"Minitest with Multiple Test Files","date":"April 29, 2013","description":null}},"previous":{"fields":{"slug":"/2013-04-07-reminder-pow/"},"frontmatter":{"title":"Installing POW"}},"next":{"fields":{"slug":"/2013-07-27-ruby-moku-moku-kai-2013-slash-07-slash-20/"},"frontmatter":{"title":"Ruby Moku Moku Kai 2013/07/20"}}},"pageContext":{"id":"4cb47486-7677-5c7b-a47a-da06da3d95ea","previousPostId":"d104e6d7-ea66-5dd8-89c4-92a897f548ed","nextPostId":"7c890662-2015-5c0b-83cf-598d41241b77"}},"staticQueryHashes":["1394841729","2841359383"]}